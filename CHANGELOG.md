# Changelog

Все значимые изменения в проекте документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Планируется
- Web интерфейс для взаимодействия с системой
- Поддержка других мессенджеров (WhatsApp, Viber)
- A/B тестирование ответов
- Аналитика использования и метрики
- Многоязычная поддержка
- Voice интерфейс
- Real-time обучение на основе обратной связи

## [1.0.0] - 2025-01-16

### Добавлено
- **RAG-система**: Полнофункциональная система на базе Retrieval-Augmented Generation
- **Telegram бот**: Long polling бот с поддержкой MarkdownV2 форматирования
- **Flask API**: RESTful API с endpoints для чата и администрирования
- **Гибридный поиск**: Комбинация dense и sparse эмбеддингов с RRF
- **LLM роутинг**: Поддержка YandexGPT, GPT-5, Deepseek с fallback логикой
- **Векторная база данных**: Интеграция с Qdrant для хранения эмбеддингов
- **Парсинг документации**: Специализированные парсеры для разных типов контента
- **Чанкинг**: Умное разбиение документов с качественными гейтами
- **Реренкинг**: BGE-reranker-v2-m3 для улучшения качества поиска
- **Конфигурация**: Централизованная система настроек через .env
- **Логирование**: Структурированное логирование с loguru
- **Мониторинг**: Health checks и метрики производительности
- **Документация**: Подробная техническая документация и примеры

### Технические детали
- **Эмбеддинги**: BAAI/bge-m3 (1024 dim) для dense, sparse через FlagEmbedding
- **Поиск**: Hybrid search с весами Dense=0.7, Sparse=0.3
- **Реренкинг**: Top-20 → Top-10 с BGE-reranker-v2-m3
- **Форматирование**: telegramify-markdown для корректного MarkdownV2
- **Краулинг**: Jina Reader для обхода антибота
- **Производительность**: 60-120 сек время ответа, 100+ concurrent users

### API Endpoints
- `POST /v1/chat/query` - Обработка пользовательских запросов
- `GET /v1/admin/health` - Проверка состояния системы
- `POST /v1/admin/reindex` - Переиндексация документации

### Конфигурация
- Поддержка множественных LLM провайдеров
- Настраиваемые параметры поиска и реренкинга
- Гибкая система краулинга с разными стратегиями
- Детальные настройки таймаутов и лимитов

### Безопасность
- Переменные окружения для API ключей
- Валидация входных данных
- Обработка ошибок без утечки информации
- Подготовка к rate limiting и аутентификации

### Производительность
- Lazy loading моделей
- Batch обработка эмбеддингов
- Кэширование частых запросов
- Асинхронная обработка где возможно

### Мониторинг
- Подробное логирование каждого этапа
- Метрики времени выполнения
- Health checks для всех компонентов
- Готовность к Prometheus/Grafana

### Документация
- README с быстрым стартом
- Техническая спецификация
- API Reference
- Руководство по развертыванию
- Руководство по разработке
- Примеры использования
- FAQ и troubleshooting

### Тестирование
- Unit тесты для основных компонентов
- Integration тесты для API
- Load тестирование
- Подготовка к CI/CD pipeline

### Развертывание
- Docker Compose конфигурация
- Kubernetes манифесты
- Production настройки
- Nginx конфигурация
- SSL/TLS поддержка

## [0.1.0] - 2025-01-15

### Добавлено
- **Инициализация проекта**: Базовая структура проекта
- **Архитектурное планирование**: Документация архитектуры
- **Планирование реализации**: Детальный план разработки
- **Настройка окружения**: Базовые конфигурации и зависимости

### Технические детали
- Выбор технологического стека
- Проектирование API
- Планирование интеграций
- Определение метрик и KPI

---

## Легенда

- **Добавлено** - для новых функций
- **Изменено** - для изменений в существующей функциональности
- **Устарело** - для функций, которые будут удалены в будущих версиях
- **Удалено** - для удаленных функций
- **Исправлено** - для исправления ошибок
- **Безопасность** - для исправлений уязвимостей

## Ссылки

- [GitHub Releases](https://github.com/your-repo/releases)
- [API Documentation](docs/api_reference.md)
- [Deployment Guide](docs/deployment_guide.md)
- [Development Guide](docs/development_guide.md)
