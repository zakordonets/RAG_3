# üìä RAGAS Quality System

## –û —Å–∏—Å—Ç–µ–º–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ RAG (Retrieval-Augmented Generation) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫ RAGAS –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–∏–¥–±–µ–∫–∞.

**–í–µ—Ä—Å–∏—è**: 1.1
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 9 –æ–∫—Ç—è–±—Ä—è 2024

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
üëâ **[Quick Start Guide](ragas_quickstart.md)** - –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
- –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Troubleshooting

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
üëâ **[RAGAS Quality System](ragas_quality_system.md)** - –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- Troubleshooting
- Roadmap

---

## ‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞** | RAGAS –º–µ—Ç—Ä–∏–∫–∏ (faithfulness, precision, relevancy) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Fallback scores** | –£–º–Ω—ã–µ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ OpenAI | ‚úÖ Production ready |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | SQLite/PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∏–¥–±–µ–∫** | –ö–Ω–æ–ø–∫–∏ üëç/üëé –≤ Telegram | ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| **Prometheus –º–µ—Ç—Ä–∏–∫–∏** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ |
| **Grafana –¥–∞—à–±–æ—Ä–¥** | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ‚úÖ –ì–æ—Ç–æ–≤ |

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–í–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (–Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å!):
- RAGAS: `0.1.21`
- LangChain: `0.2.16`
- Datasets: `2.19.0`

**OpenAI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:**
- RAGAS —Ç—Ä–µ–±—É–µ—Ç OpenAI –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Ç—Ä–∏–∫
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç **–±–µ–∑ OpenAI** —á–µ—Ä–µ–∑ fallback
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: fallback <100ms vs RAGAS 2-5 —Å–µ–∫

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
ENABLE_RAGAS_EVALUATION=true
RAGAS_EVALUATION_SAMPLE_RATE=0.1  # –û—Ü–µ–Ω–∏–≤–∞—Ç—å 10% –∑–∞–ø—Ä–æ—Å–æ–≤
QUALITY_DB_ENABLED=true
ENABLE_QUALITY_METRICS=true
```

---

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### 1-–º–∏–Ω—É—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
python scripts/init_quality_db.py

# –¢–µ—Å—Ç
python scripts/test_simple_ragas.py
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞

```
‚úÖ RAGAS Evaluation Results:
   Faithfulness: 0.700
   Context Precision: 0.600
   Answer Relevancy: 0.800
   Overall Score: 0.700
```

üëâ **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: [ragas_quickstart.md](ragas_quickstart.md)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ (RAGAS)
- **Faithfulness** - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç–≤–µ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- **Context Precision** - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- **Answer Relevancy** - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –∑–∞–ø—Ä–æ—Å—É

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ
- **Positive/Negative feedback** - –û—Ü–µ–Ω–∫–∏ —á–µ—Ä–µ–∑ üëç/üëé
- **Satisfaction rate** - –ü—Ä–æ—Ü–µ–Ω—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- **Correlation analysis** - –°–≤—è–∑—å –º–µ–∂–¥—É –º–µ—Ç—Ä–∏–∫–∞–º–∏

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Architecture Overview](architecture.md) - –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RAG —Å–∏—Å—Ç–µ–º—ã
- [Monitoring Setup](monitoring_setup.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana/Prometheus
- [API Reference](api_reference.md) - REST API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–í–æ–ø—Ä–æ—Å—ã?** –°–º. —Å–µ–∫—Ü–∏—é Troubleshooting –≤ [–ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](ragas_quality_system.md) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue.
