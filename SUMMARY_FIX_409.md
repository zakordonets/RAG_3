# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 409 Telegram Bot - –†–µ–∑—é–º–µ

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–¥–µ –±–æ—Ç–∞
- **–§–∞–π–ª**: `adapters/telegram/polling.py`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `verify_bot_ready()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç webhook –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `delete_webhook()` - —É–¥–∞–ª—è–µ—Ç webhook –∏ pending updates
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handle_409_conflict()` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É 409 –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
- –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_updates()` - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 409 –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### 2. –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–°–∫—Ä–∏–ø—Ç**: `scripts/fix_telegram_409.py`
  - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç webhook
  - –û—á–∏—â–∞–µ—Ç pending updates
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å getUpdates

### 3. –£–¥–æ–±–Ω—ã–µ launcher —Å–∫—Ä–∏–ø—Ç—ã
- `fix_telegram_409.ps1` - –¥–ª—è Windows PowerShell
- `fix_telegram_409.bat` - –¥–ª—è Windows CMD

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **docs/faq.md** - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–û—à–∏–±–∫–∞ Telegram Bot 409 Conflict"
- **docs/quickstart.md** - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª Troubleshooting
- **scripts/README_FIX_409.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É—Ç–∏–ª–∏—Ç–µ
- **CHANGELOG.md** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –æ –≤–µ—Ä—Å–∏–∏ 4.4.0

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ 409:

**–ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (Windows):**
```powershell
.\fix_telegram_409.ps1
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Python:**
```bash
python scripts/fix_telegram_409.py
```

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞:
–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ webhook –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
2. ‚úÖ –£–¥–∞–ª—è–µ—Ç webhook –µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É 409 –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
4. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞ - OK
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook - OK
‚úÖ getUpdates —Ä–∞–±–æ—Ç–∞–µ—Ç - OK
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python - OK
‚úÖ Linter –ø—Ä–æ–≤–µ—Ä–∫–∞ - OK (0 –æ—à–∏–±–æ–∫)
```

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏

**–î–æ:**
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 409 –±–æ—Ç –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞–ª –æ—à–∏–±–∫—É –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å
- –¢—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —É–¥–∞–ª—è—Ç—å webhook
- –ù–µ –±—ã–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–ü–æ—Å–ª–µ:**
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 409 –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è
- –ï—Å—Ç—å —É–¥–æ–±–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞:
```bash
python scripts/fix_telegram_409.py
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook –≤—Ä—É—á–Ω—É—é:
```bash
curl "https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo"
```

### –£–¥–∞–ª–∏—Ç—å webhook –≤—Ä—É—á–Ω—É—é:
```bash
curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/deleteWebhook?drop_pending_updates=true"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [FAQ - –û—à–∏–±–∫–∞ 409](docs/faq.md#–æ—à–∏–±–∫–∞-telegram-bot-409-conflict)
- [Quickstart - Troubleshooting](docs/quickstart.md#troubleshooting)
- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç—ã](scripts/README_FIX_409.md)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Windows
3. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
4. üì¶ –ú–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üíæ –§–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞

```
modified:   adapters/telegram/polling.py
modified:   docs/faq.md
modified:   docs/quickstart.md
modified:   CHANGELOG.md
new file:   scripts/fix_telegram_409.py
new file:   scripts/README_FIX_409.md
new file:   fix_telegram_409.ps1
new file:   fix_telegram_409.bat
```

---

**–í–µ—Ä—Å–∏—è**: 4.4.0
**–î–∞—Ç–∞**: 2025-10-10
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
