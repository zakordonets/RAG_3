{
  "html": "Title: Отправить сообщение существующему клиенту в edna | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать значение одного из следующих параметров: `clientId`, `threadsClientId` или `threadId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\n1.   По `threadsClientId`. Это внутренний идентификатор клиента, применимо и для авторизованных, и для неавторизованных клиентов.\n2.   По `clientId`. Это внешний идентификатор клиента. Чаще используется для авторизованных клиентов; не имеет привязки к конкретному треду.\n3.   По `threadId`. Это идентификатор треда, по которому вы можете идентифицировать клиента и отправить ему сообщение.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna |\n| `threadId` | `Long (необязательно)` | Идентификатор треда, который требуется для определения клиента, которому вы хотите отправить сообщение |\n| `text` | `String` | Текст сообщения |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"'`\n\n### Пример для `clientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-clientid \"Прямая ссылка на пример-для-clientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 74Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"`\n\n### Пример для `threadsClientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadsclientid \"Прямая ссылка на пример-для-threadsclientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 98Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"client1\",  \"threadsClientId\" : 1`\n\n### Пример для `threadId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadid \"Прямая ссылка на пример-для-threadid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 68Host: localhost:8080{  \"text\" : \"message\",  \"clientId\" : \"client1\",  \"threadId\" : 1`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор сообщения в edna |\n| `threadId` | `Long` | Уникальный идентификатора нового треда в edna для отправленного сообщения |\n| `clientId` | `Long` | Уникальный идентификатор клиента, которому было отправлено сообщение |\n| `clientExternalId` | `String` | Уникальный внешний идентификатор клиента, которому было отправлено сообщение |\n| `agentId` | `Long` | Уникальный идентификатор агента, отправившего сообщение |\n\n`HTTP/1.1 200 OKX-Request-Id: 46631bc5-1632-4734-989a-bcbd4a58ababVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 102{  \"id\" : 1,  \"threadId\" : 2,  \"clientId\" : 1,  \"clientExternalId\" : \"clientId\",  \"agentId\" : 3`\n",
  "text": "Title: Отправить сообщение существующему клиенту в edna | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать значение одного из следующих параметров: `clientId`, `threadsClientId` или `threadId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\n1.   По `threadsClientId`. Это внутренний идентификатор клиента, применимо и для авторизованных, и для неавторизованных клиентов.\n2.   По `clientId`. Это внешний идентификатор клиента. Чаще используется для авторизованных клиентов; не имеет привязки к конкретному треду.\n3.   По `threadId`. Это идентификатор треда, по которому вы можете идентифицировать клиента и отправить ему сообщение.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna |\n| `threadId` | `Long (необязательно)` | Идентификатор треда, который требуется для определения клиента, которому вы хотите отправить сообщение |\n| `text` | `String` | Текст сообщения |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"'`\n\n### Пример для `clientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-clientid \"Прямая ссылка на пример-для-clientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 74Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"`\n\n### Пример для `threadsClientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadsclientid \"Прямая ссылка на пример-для-threadsclientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 98Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"client1\",  \"threadsClientId\" : 1`\n\n### Пример для `threadId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadid \"Прямая ссылка на пример-для-threadid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 68Host: localhost:8080{  \"text\" : \"message\",  \"clientId\" : \"client1\",  \"threadId\" : 1`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор сообщения в edna |\n| `threadId` | `Long` | Уникальный идентификатора нового треда в edna для отправленного сообщения |\n| `clientId` | `Long` | Уникальный идентификатор клиента, которому было отправлено сообщение |\n| `clientExternalId` | `String` | Уникальный внешний идентификатор клиента, которому было отправлено сообщение |\n| `agentId` | `Long` | Уникальный идентификатор агента, отправившего сообщение |\n\n`HTTP/1.1 200 OKX-Request-Id: 46631bc5-1632-4734-989a-bcbd4a58ababVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 102{  \"id\" : 1,  \"threadId\" : 2,  \"clientId\" : 1,  \"clientExternalId\" : \"clientId\",  \"agentId\" : 3`\n",
  "metadata": {
    "url": "https://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId",
    "content_hash": "c8583a44572a2c11967e00a8d0f861a8ed4b92b47749d840288fce18ddd4d004",
    "last_modified": "2025-10-03T15:51:55.837790+00:00",
    "etag": null,
    "title": null,
    "page_type": "api",
    "content_strategy": "jina",
    "content_length": 4583,
    "cached_at": "2025-10-03T15:51:55.837790+00:00",
    "html": "Title: Отправить сообщение существующему клиенту в edna | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать значение одного из следующих параметров: `clientId`, `threadsClientId` или `threadId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\n1.   По `threadsClientId`. Это внутренний идентификатор клиента, применимо и для авторизованных, и для неавторизованных клиентов.\n2.   По `clientId`. Это внешний идентификатор клиента. Чаще используется для авторизованных клиентов; не имеет привязки к конкретному треду.\n3.   По `threadId`. Это идентификатор треда, по которому вы можете идентифицировать клиента и отправить ему сообщение.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna |\n| `threadId` | `Long (необязательно)` | Идентификатор треда, который требуется для определения клиента, которому вы хотите отправить сообщение |\n| `text` | `String` | Текст сообщения |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"'`\n\n### Пример для `clientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-clientid \"Прямая ссылка на пример-для-clientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 74Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"`\n\n### Пример для `threadsClientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadsclientid \"Прямая ссылка на пример-для-threadsclientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 98Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"client1\",  \"threadsClientId\" : 1`\n\n### Пример для `threadId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadid \"Прямая ссылка на пример-для-threadid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 68Host: localhost:8080{  \"text\" : \"message\",  \"clientId\" : \"client1\",  \"threadId\" : 1`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор сообщения в edna |\n| `threadId` | `Long` | Уникальный идентификатора нового треда в edna для отправленного сообщения |\n| `clientId` | `Long` | Уникальный идентификатор клиента, которому было отправлено сообщение |\n| `clientExternalId` | `String` | Уникальный внешний идентификатор клиента, которому было отправлено сообщение |\n| `agentId` | `Long` | Уникальный идентификатор агента, отправившего сообщение |\n\n`HTTP/1.1 200 OKX-Request-Id: 46631bc5-1632-4734-989a-bcbd4a58ababVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 102{  \"id\" : 1,  \"threadId\" : 2,  \"clientId\" : 1,  \"clientExternalId\" : \"clientId\",  \"agentId\" : 3`\n",
    "text": "Title: Отправить сообщение существующему клиенту в edna | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать значение одного из следующих параметров: `clientId`, `threadsClientId` или `threadId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\n1.   По `threadsClientId`. Это внутренний идентификатор клиента, применимо и для авторизованных, и для неавторизованных клиентов.\n2.   По `clientId`. Это внешний идентификатор клиента. Чаще используется для авторизованных клиентов; не имеет привязки к конкретному треду.\n3.   По `threadId`. Это идентификатор треда, по которому вы можете идентифицировать клиента и отправить ему сообщение.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna |\n| `threadId` | `Long (необязательно)` | Идентификатор треда, который требуется для определения клиента, которому вы хотите отправить сообщение |\n| `text` | `String` | Текст сообщения |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"'`\n\n### Пример для `clientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-clientid \"Прямая ссылка на пример-для-clientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 74Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\"`\n\n### Пример для `threadsClientId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadsclientid \"Прямая ссылка на пример-для-threadsclientid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 98Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"client1\",  \"threadsClientId\" : 1`\n\n### Пример для `threadId`[​](http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-by-clientId#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%B4%D0%BB%D1%8F-threadid \"Прямая ссылка на пример-для-threadid\")\n\n`POST /api/v1/messages/outgoing HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 68Host: localhost:8080{  \"text\" : \"message\",  \"clientId\" : \"client1\",  \"threadId\" : 1`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор сообщения в edna |\n| `threadId` | `Long` | Уникальный идентификатора нового треда в edna для отправленного сообщения |\n| `clientId` | `Long` | Уникальный идентификатор клиента, которому было отправлено сообщение |\n| `clientExternalId` | `String` | Уникальный внешний идентификатор клиента, которому было отправлено сообщение |\n| `agentId` | `Long` | Уникальный идентификатор агента, отправившего сообщение |\n\n`HTTP/1.1 200 OKX-Request-Id: 46631bc5-1632-4734-989a-bcbd4a58ababVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 102{  \"id\" : 1,  \"threadId\" : 2,  \"clientId\" : 1,  \"clientExternalId\" : \"clientId\",  \"agentId\" : 3`\n"
  }
}