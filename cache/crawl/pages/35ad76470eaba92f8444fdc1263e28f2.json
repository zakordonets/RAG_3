{
  "html": "Title: Приветствие | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting\n\nMarkdown Content:\nПриветствие\n-----------\n\nОбрабатывает приветственное сообщение бота, то есть сообщение, которое бот отправляет в качестве первого (проактивного) приветствия клиенту.\n\nwarning\n\nВ запросе должен быть указан `clientId` или `threadsClientId`.\n\n`clientId` можно использовать только для авторизованных клиентов, `threadsClientId` можно использовать для любых клиентов.\n\nЕсли указаны оба параметра, приоритет у `clientId`.\n\nПоля тела запроса**Поле****Тип****Описание**\n`text`string (обязательно)Ответ бота на сообщение клиента\n`clientId`string (необязательно)Внешний ID клиента. **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`long (необязательно)Внутренний ID клиента\n`receivedAt`string (необязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`quickReplies``array` (необязательно)*   `type` - Тип быстрого ответа. Возможные значения: `TEXT` для текстовых сообщений, `CONTACT` для получения данных о клиенте.\n\n*   `text` - Текст сообщения, строка до 4000 символов\n\n*   `shown_text` - Текстовое содержимое, необязательный параметр, строка до 2000 символов. Используется только в комбинации с параметром `text`. Если параметр указан, этот текст отправляется как клиентское сообщение после нажатия на кнопку быстрого ответа.\n\n*   `callback_data` - Текстовое содержимое, необязательный параметр, строка до 255 символов. Название события, которое будет передаваться, когда вызван JS SDK API для последующей обработки заказчиком на стороне сайта.\n\n*   `imageUrl` - URL иконки кнопки, строка до 4000 символов.\n\n*   `url` - Ссылка на прикрепленный файл, строка до 4000 символов.\n\nДлина и количество быстрых ответов настраивается в БД: `message.max-quick-replies`, `message.max-quick-reply-length`\n`settings`Object (необязательно)Дополнительные настройки сообщения\n`settings.blockInput`boolean (необязательно)Параметр, который указывает, заблокировано ли поле ввода сообщения (`true` - заблокировано, `false` - не заблокировано). Работает только для быстрых ответов.\n`quickRepliesHeaderFooter`Object (необязательно)Дополнительные заголовок и подпись (только для Whatsapp)\n`quickRepliesHeaderFooter.header``array` (необязательно)*   `text` - Текст заголовка, максимальная длина 61 символ\n\n*   `imageUrl` - URL изображения\n\n*   `documentUrl` - URL файла\n\n*   `documentName` - Название файла\n\n*   `videoUrl` - URL видеофайла\n\nВ заголовке `header` можно передать параметры: текст заголовка, изображение, документ, видео. Отправить одновременно в заголовке и текст, и изображение, и документ, и видео нельзя.\n`quickRepliesHeaderFooter.footer`array (необязательно)Поля\n*   `text` - Текст подписи, максимальная длина 61 символ\n`messageListPicker`Object (необязательно)Интерактивный список (только для Whatsapp)\n`messageListPicker.header`Object (необязательно)Поля\n*   `text` (string) - Текст заголовка, максимальная длина 60 символов\n`messageListPicker.footer`Object (необязательно)Поля\n*   `text` (string) - Текст подписи, максимальная длина 60 символов\n`messageListPicker.title`string Наименование кнопки для интерактивного списка, максимальная длина 20 символов\n`messageListPicker.sections`array (Максимум 10 элементов во всех `items`)Поля\n*   `title` (string) - Заголовок секции с элементами, который отображается пользователю, максимальная длина 24 символа\n\n*   `items` (array)\n`messageListPicker.section.items`array Поля\n*   `title` (string) - Название элемента, максимальная длина 24 символа\n\n*   `subTitle` (string (необязательно)) - Подзаголовок элемента, максимальная длина 72 символа\n\n*   `identifier` (string) – сквозной для всего сообщения ID элемента, вернется в ответном сообщении пользователя\n\n`$ curl 'http://localhost:8080/api/v1/chatbot/greet' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"'`\n\n`POST /api/v1/chatbot/greet HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 70Host: localhost:8080{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"`\n\n`HTTP/1.1 200 OKX-Request-Id: b5902143-1395-4d82-b6e6-5da4cffb3a11Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n### Пример curl[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-curl-1 \"Прямая ссылка на Пример curl\")\n\n`$ curl 'http://localhost:8080/api/v1/chatbot' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false'`\n\n### Пример HTTP запроса[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-http-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-1 \"Прямая ссылка на Пример HTTP запроса\")\n\n`POST /api/v1/chatbot HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 597Host: localhost:8080{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false`\n\n### Пример успешного HTTP ответа[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE%D0%B3%D0%BE-http-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-1 \"Прямая ссылка на Пример успешного HTTP ответа\")\n\n`HTTP/1.1 200 OKX-Request-Id: a74cb2b8-c429-435c-972a-c4796239012eVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n",
  "text": "Title: Приветствие | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting\n\nMarkdown Content:\nПриветствие\n-----------\n\nОбрабатывает приветственное сообщение бота, то есть сообщение, которое бот отправляет в качестве первого (проактивного) приветствия клиенту.\n\nwarning\n\nВ запросе должен быть указан `clientId` или `threadsClientId`.\n\n`clientId` можно использовать только для авторизованных клиентов, `threadsClientId` можно использовать для любых клиентов.\n\nЕсли указаны оба параметра, приоритет у `clientId`.\n\nПоля тела запроса**Поле****Тип****Описание**\n`text`string (обязательно)Ответ бота на сообщение клиента\n`clientId`string (необязательно)Внешний ID клиента. **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`long (необязательно)Внутренний ID клиента\n`receivedAt`string (необязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`quickReplies``array` (необязательно)*   `type` - Тип быстрого ответа. Возможные значения: `TEXT` для текстовых сообщений, `CONTACT` для получения данных о клиенте.\n\n*   `text` - Текст сообщения, строка до 4000 символов\n\n*   `shown_text` - Текстовое содержимое, необязательный параметр, строка до 2000 символов. Используется только в комбинации с параметром `text`. Если параметр указан, этот текст отправляется как клиентское сообщение после нажатия на кнопку быстрого ответа.\n\n*   `callback_data` - Текстовое содержимое, необязательный параметр, строка до 255 символов. Название события, которое будет передаваться, когда вызван JS SDK API для последующей обработки заказчиком на стороне сайта.\n\n*   `imageUrl` - URL иконки кнопки, строка до 4000 символов.\n\n*   `url` - Ссылка на прикрепленный файл, строка до 4000 символов.\n\nДлина и количество быстрых ответов настраивается в БД: `message.max-quick-replies`, `message.max-quick-reply-length`\n`settings`Object (необязательно)Дополнительные настройки сообщения\n`settings.blockInput`boolean (необязательно)Параметр, который указывает, заблокировано ли поле ввода сообщения (`true` - заблокировано, `false` - не заблокировано). Работает только для быстрых ответов.\n`quickRepliesHeaderFooter`Object (необязательно)Дополнительные заголовок и подпись (только для Whatsapp)\n`quickRepliesHeaderFooter.header``array` (необязательно)*   `text` - Текст заголовка, максимальная длина 61 символ\n\n*   `imageUrl` - URL изображения\n\n*   `documentUrl` - URL файла\n\n*   `documentName` - Название файла\n\n*   `videoUrl` - URL видеофайла\n\nВ заголовке `header` можно передать параметры: текст заголовка, изображение, документ, видео. Отправить одновременно в заголовке и текст, и изображение, и документ, и видео нельзя.\n`quickRepliesHeaderFooter.footer`array (необязательно)Поля\n*   `text` - Текст подписи, максимальная длина 61 символ\n`messageListPicker`Object (необязательно)Интерактивный список (только для Whatsapp)\n`messageListPicker.header`Object (необязательно)Поля\n*   `text` (string) - Текст заголовка, максимальная длина 60 символов\n`messageListPicker.footer`Object (необязательно)Поля\n*   `text` (string) - Текст подписи, максимальная длина 60 символов\n`messageListPicker.title`string Наименование кнопки для интерактивного списка, максимальная длина 20 символов\n`messageListPicker.sections`array (Максимум 10 элементов во всех `items`)Поля\n*   `title` (string) - Заголовок секции с элементами, который отображается пользователю, максимальная длина 24 символа\n\n*   `items` (array)\n`messageListPicker.section.items`array Поля\n*   `title` (string) - Название элемента, максимальная длина 24 символа\n\n*   `subTitle` (string (необязательно)) - Подзаголовок элемента, максимальная длина 72 символа\n\n*   `identifier` (string) – сквозной для всего сообщения ID элемента, вернется в ответном сообщении пользователя\n\n`$ curl 'http://localhost:8080/api/v1/chatbot/greet' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"'`\n\n`POST /api/v1/chatbot/greet HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 70Host: localhost:8080{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"`\n\n`HTTP/1.1 200 OKX-Request-Id: b5902143-1395-4d82-b6e6-5da4cffb3a11Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n### Пример curl[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-curl-1 \"Прямая ссылка на Пример curl\")\n\n`$ curl 'http://localhost:8080/api/v1/chatbot' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false'`\n\n### Пример HTTP запроса[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-http-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-1 \"Прямая ссылка на Пример HTTP запроса\")\n\n`POST /api/v1/chatbot HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 597Host: localhost:8080{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false`\n\n### Пример успешного HTTP ответа[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE%D0%B3%D0%BE-http-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-1 \"Прямая ссылка на Пример успешного HTTP ответа\")\n\n`HTTP/1.1 200 OKX-Request-Id: a74cb2b8-c429-435c-972a-c4796239012eVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n",
  "metadata": {
    "url": "https://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting",
    "content_hash": "903b0bda33e62bff5906a0c0fc09766ce125ee0ea8de62f99e59a46debaea85b",
    "last_modified": "2025-10-03T15:45:19.448405+00:00",
    "etag": null,
    "title": null,
    "page_type": "api",
    "content_strategy": "jina",
    "content_length": 7022,
    "cached_at": "2025-10-03T15:45:19.448405+00:00",
    "html": "Title: Приветствие | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting\n\nMarkdown Content:\nПриветствие\n-----------\n\nОбрабатывает приветственное сообщение бота, то есть сообщение, которое бот отправляет в качестве первого (проактивного) приветствия клиенту.\n\nwarning\n\nВ запросе должен быть указан `clientId` или `threadsClientId`.\n\n`clientId` можно использовать только для авторизованных клиентов, `threadsClientId` можно использовать для любых клиентов.\n\nЕсли указаны оба параметра, приоритет у `clientId`.\n\nПоля тела запроса**Поле****Тип****Описание**\n`text`string (обязательно)Ответ бота на сообщение клиента\n`clientId`string (необязательно)Внешний ID клиента. **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`long (необязательно)Внутренний ID клиента\n`receivedAt`string (необязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`quickReplies``array` (необязательно)*   `type` - Тип быстрого ответа. Возможные значения: `TEXT` для текстовых сообщений, `CONTACT` для получения данных о клиенте.\n\n*   `text` - Текст сообщения, строка до 4000 символов\n\n*   `shown_text` - Текстовое содержимое, необязательный параметр, строка до 2000 символов. Используется только в комбинации с параметром `text`. Если параметр указан, этот текст отправляется как клиентское сообщение после нажатия на кнопку быстрого ответа.\n\n*   `callback_data` - Текстовое содержимое, необязательный параметр, строка до 255 символов. Название события, которое будет передаваться, когда вызван JS SDK API для последующей обработки заказчиком на стороне сайта.\n\n*   `imageUrl` - URL иконки кнопки, строка до 4000 символов.\n\n*   `url` - Ссылка на прикрепленный файл, строка до 4000 символов.\n\nДлина и количество быстрых ответов настраивается в БД: `message.max-quick-replies`, `message.max-quick-reply-length`\n`settings`Object (необязательно)Дополнительные настройки сообщения\n`settings.blockInput`boolean (необязательно)Параметр, который указывает, заблокировано ли поле ввода сообщения (`true` - заблокировано, `false` - не заблокировано). Работает только для быстрых ответов.\n`quickRepliesHeaderFooter`Object (необязательно)Дополнительные заголовок и подпись (только для Whatsapp)\n`quickRepliesHeaderFooter.header``array` (необязательно)*   `text` - Текст заголовка, максимальная длина 61 символ\n\n*   `imageUrl` - URL изображения\n\n*   `documentUrl` - URL файла\n\n*   `documentName` - Название файла\n\n*   `videoUrl` - URL видеофайла\n\nВ заголовке `header` можно передать параметры: текст заголовка, изображение, документ, видео. Отправить одновременно в заголовке и текст, и изображение, и документ, и видео нельзя.\n`quickRepliesHeaderFooter.footer`array (необязательно)Поля\n*   `text` - Текст подписи, максимальная длина 61 символ\n`messageListPicker`Object (необязательно)Интерактивный список (только для Whatsapp)\n`messageListPicker.header`Object (необязательно)Поля\n*   `text` (string) - Текст заголовка, максимальная длина 60 символов\n`messageListPicker.footer`Object (необязательно)Поля\n*   `text` (string) - Текст подписи, максимальная длина 60 символов\n`messageListPicker.title`string Наименование кнопки для интерактивного списка, максимальная длина 20 символов\n`messageListPicker.sections`array (Максимум 10 элементов во всех `items`)Поля\n*   `title` (string) - Заголовок секции с элементами, который отображается пользователю, максимальная длина 24 символа\n\n*   `items` (array)\n`messageListPicker.section.items`array Поля\n*   `title` (string) - Название элемента, максимальная длина 24 символа\n\n*   `subTitle` (string (необязательно)) - Подзаголовок элемента, максимальная длина 72 символа\n\n*   `identifier` (string) – сквозной для всего сообщения ID элемента, вернется в ответном сообщении пользователя\n\n`$ curl 'http://localhost:8080/api/v1/chatbot/greet' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"'`\n\n`POST /api/v1/chatbot/greet HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 70Host: localhost:8080{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"`\n\n`HTTP/1.1 200 OKX-Request-Id: b5902143-1395-4d82-b6e6-5da4cffb3a11Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n### Пример curl[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-curl-1 \"Прямая ссылка на Пример curl\")\n\n`$ curl 'http://localhost:8080/api/v1/chatbot' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false'`\n\n### Пример HTTP запроса[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-http-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-1 \"Прямая ссылка на Пример HTTP запроса\")\n\n`POST /api/v1/chatbot HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 597Host: localhost:8080{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false`\n\n### Пример успешного HTTP ответа[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE%D0%B3%D0%BE-http-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-1 \"Прямая ссылка на Пример успешного HTTP ответа\")\n\n`HTTP/1.1 200 OKX-Request-Id: a74cb2b8-c429-435c-972a-c4796239012eVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n",
    "text": "Title: Приветствие | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting\n\nMarkdown Content:\nПриветствие\n-----------\n\nОбрабатывает приветственное сообщение бота, то есть сообщение, которое бот отправляет в качестве первого (проактивного) приветствия клиенту.\n\nwarning\n\nВ запросе должен быть указан `clientId` или `threadsClientId`.\n\n`clientId` можно использовать только для авторизованных клиентов, `threadsClientId` можно использовать для любых клиентов.\n\nЕсли указаны оба параметра, приоритет у `clientId`.\n\nПоля тела запроса**Поле****Тип****Описание**\n`text`string (обязательно)Ответ бота на сообщение клиента\n`clientId`string (необязательно)Внешний ID клиента. **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`long (необязательно)Внутренний ID клиента\n`receivedAt`string (необязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`quickReplies``array` (необязательно)*   `type` - Тип быстрого ответа. Возможные значения: `TEXT` для текстовых сообщений, `CONTACT` для получения данных о клиенте.\n\n*   `text` - Текст сообщения, строка до 4000 символов\n\n*   `shown_text` - Текстовое содержимое, необязательный параметр, строка до 2000 символов. Используется только в комбинации с параметром `text`. Если параметр указан, этот текст отправляется как клиентское сообщение после нажатия на кнопку быстрого ответа.\n\n*   `callback_data` - Текстовое содержимое, необязательный параметр, строка до 255 символов. Название события, которое будет передаваться, когда вызван JS SDK API для последующей обработки заказчиком на стороне сайта.\n\n*   `imageUrl` - URL иконки кнопки, строка до 4000 символов.\n\n*   `url` - Ссылка на прикрепленный файл, строка до 4000 символов.\n\nДлина и количество быстрых ответов настраивается в БД: `message.max-quick-replies`, `message.max-quick-reply-length`\n`settings`Object (необязательно)Дополнительные настройки сообщения\n`settings.blockInput`boolean (необязательно)Параметр, который указывает, заблокировано ли поле ввода сообщения (`true` - заблокировано, `false` - не заблокировано). Работает только для быстрых ответов.\n`quickRepliesHeaderFooter`Object (необязательно)Дополнительные заголовок и подпись (только для Whatsapp)\n`quickRepliesHeaderFooter.header``array` (необязательно)*   `text` - Текст заголовка, максимальная длина 61 символ\n\n*   `imageUrl` - URL изображения\n\n*   `documentUrl` - URL файла\n\n*   `documentName` - Название файла\n\n*   `videoUrl` - URL видеофайла\n\nВ заголовке `header` можно передать параметры: текст заголовка, изображение, документ, видео. Отправить одновременно в заголовке и текст, и изображение, и документ, и видео нельзя.\n`quickRepliesHeaderFooter.footer`array (необязательно)Поля\n*   `text` - Текст подписи, максимальная длина 61 символ\n`messageListPicker`Object (необязательно)Интерактивный список (только для Whatsapp)\n`messageListPicker.header`Object (необязательно)Поля\n*   `text` (string) - Текст заголовка, максимальная длина 60 символов\n`messageListPicker.footer`Object (необязательно)Поля\n*   `text` (string) - Текст подписи, максимальная длина 60 символов\n`messageListPicker.title`string Наименование кнопки для интерактивного списка, максимальная длина 20 символов\n`messageListPicker.sections`array (Максимум 10 элементов во всех `items`)Поля\n*   `title` (string) - Заголовок секции с элементами, который отображается пользователю, максимальная длина 24 символа\n\n*   `items` (array)\n`messageListPicker.section.items`array Поля\n*   `title` (string) - Название элемента, максимальная длина 24 символа\n\n*   `subTitle` (string (необязательно)) - Подзаголовок элемента, максимальная длина 72 символа\n\n*   `identifier` (string) – сквозной для всего сообщения ID элемента, вернется в ответном сообщении пользователя\n\n`$ curl 'http://localhost:8080/api/v1/chatbot/greet' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"'`\n\n`POST /api/v1/chatbot/greet HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 70Host: localhost:8080{  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"text\" : \"greeting\"`\n\n`HTTP/1.1 200 OKX-Request-Id: b5902143-1395-4d82-b6e6-5da4cffb3a11Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n### Пример curl[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-curl-1 \"Прямая ссылка на Пример curl\")\n\n`$ curl 'http://localhost:8080/api/v1/chatbot' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false'`\n\n### Пример HTTP запроса[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-http-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B0-1 \"Прямая ссылка на Пример HTTP запроса\")\n\n`POST /api/v1/chatbot HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <token>X-Tenant-Name: localContent-Length: 597Host: localhost:8080{  \"action\" : \"INIT_CHAT\",  \"clientId\" : \"1\",  \"threadsClientId\" : 1,  \"sessionId\" : \"1\",  \"questionId\" : 43,  \"receivedAt\" : \"2024-12-28T11:39:34.260Z\",  \"quickReplies\" : [ {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 1\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null  , {    \"type\" : \"TEXT\",    \"text\" : \"quick reply 2\",    \"imageUrl\" : null,    \"url\" : null,    \"shown_text\" : null,    \"callback_data\" : null,    \"payload\" : null   ],  \"settings\" : {    \"blockInput\" : true,    \"masked\" : false`\n\n### Пример успешного HTTP ответа[​](http://docs-chatcenter.edna.ru/docs/api/external-api-bot/greeting#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE%D0%B3%D0%BE-http-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%B0-1 \"Прямая ссылка на Пример успешного HTTP ответа\")\n\n`HTTP/1.1 200 OKX-Request-Id: a74cb2b8-c429-435c-972a-c4796239012eVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n"
  }
}