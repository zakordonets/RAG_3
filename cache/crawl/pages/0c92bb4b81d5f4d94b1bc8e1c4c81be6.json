{
  "html": "Title: Вебхук Training | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/webhook-training\n\nMarkdown Content:\nЭтот вебхук предназначен для тренировки бота на основании диалогов между агентами и клиентами.После этого бот сможет отправлять подсказки агентам. В таких подсказках содержатся вероятные варианты ответов клиентам, которые могут быть крайне полезными и эффективными в работе агентов.\n\nБот отправляет сообщения с подсказками на эндпоинт `/api/v1/chatbot/hints`, если тред принадлежит пользователю с ролью `Operator` (т.е. агенту).\n\nВам необходимо предварительно включить настройку, которая позволит тренировать бота.\n\nВам также необходимо добавить вебхук для соответствующего бота в АРМ администратора.\n\nПоля тела запроса**Поле****Тип****Описание**\n`action`string (обязательно)*   TRAINING\n`text`string (обязательно)Сообщение клиента или агента, которое вы хотите направить боту на обучение\n`clientId`string (необязательно)Внешний ID клиента (только для авторизованных клиентов). **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`Long (необязательно)Внутренний ID клиента (подходит как для авторизованных, так и для неавторизованных клиентов)\n`sessionId`string (необязательно)Внутренний ID треда\n`receivedAt`string (обязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`attachments`array of object (необязательно)Поля\n*   `url` - URL файла, строка до 4000 символов\n\n*   `name` - Имя файла, строка до 1000 символов\n\n*   `type` - MIME-тип файла, строка до 256 символов\n\n*   `size` - Размер файла в байтах, целое число\n`operator`object (необязательно)Поля\n*   `id` - ид пользователя\n\n*   `name` - имя пользователя\n\n*   `role` - pоль пользователя\n\n*   `maxThreads` - максимальное количество слотов оператора\n\n*   `freeSlots` - количество свободных слотов\n\n*   `photoUrl` - аватар пользователя\n`messageIndex`int(обязательно)Индекс сообщения в рамках треда\n`messageOwner`string (обязательно)Автор сообщения (`CLIENT`/`OPERATOR`)\n`channelInfo`object (обязательно)Информация о канале, в котором получено сообщение\n`id`string Channel ID\n`channelType`string Тип канала (`WEB`, `MOBILE`, `EMAIL`, `VIBER`, `TELEGRAM`, `VIBERPA`, `FACEBOOK`, `VKONTAKTE`, `YANDEX`, `WHATSAPP`, `APPLE_BUSINESS_CHAT`, ROCKET_CHAT, OZON)\n`authorized`boolean`true` - авторизован, `false` - не авторизован\n\n`POST <url for webhook training> HTTP/1.1    Content-Type: application/json    {       \"operator\":{          \"id\":3,          \"name\":\"Maria\",          \"role\":\"OPERATOR\",          \"maxThreads\":6,          \"freeSlots\":0,          \"photoUrl\":null       ,       \"messageIndex\":7,       \"messageOwner\":\"CLIENT\",       \"action\":\"TRAINING\",       \"clientId\":\"1111\",       \"threadsClientId\":218,       \"sessionId\":\"249\",       \"receivedAt\":\"2021-03-25T03:12:28.825Z\",       \"text\":\"asdf\",       \"channelInfo\":{          \"id\":1,          \"channelType\":\"WEB\",          \"authorized\":true       ,       \"attachments\":[       ],       \"clientData\":{          \"locale\":\"ru\"       ,       \"sender\":\"ThreadsAPI\"`\n\nВ случае успешной обработки запроса бот должен вернуть статус 200. Вторым шагом бот должен вызвать метод `/api/v1/chatbot/hints`\n",
  "text": "Title: Вебхук Training | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/webhook-training\n\nMarkdown Content:\nЭтот вебхук предназначен для тренировки бота на основании диалогов между агентами и клиентами.После этого бот сможет отправлять подсказки агентам. В таких подсказках содержатся вероятные варианты ответов клиентам, которые могут быть крайне полезными и эффективными в работе агентов.\n\nБот отправляет сообщения с подсказками на эндпоинт `/api/v1/chatbot/hints`, если тред принадлежит пользователю с ролью `Operator` (т.е. агенту).\n\nВам необходимо предварительно включить настройку, которая позволит тренировать бота.\n\nВам также необходимо добавить вебхук для соответствующего бота в АРМ администратора.\n\nПоля тела запроса**Поле****Тип****Описание**\n`action`string (обязательно)*   TRAINING\n`text`string (обязательно)Сообщение клиента или агента, которое вы хотите направить боту на обучение\n`clientId`string (необязательно)Внешний ID клиента (только для авторизованных клиентов). **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`Long (необязательно)Внутренний ID клиента (подходит как для авторизованных, так и для неавторизованных клиентов)\n`sessionId`string (необязательно)Внутренний ID треда\n`receivedAt`string (обязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`attachments`array of object (необязательно)Поля\n*   `url` - URL файла, строка до 4000 символов\n\n*   `name` - Имя файла, строка до 1000 символов\n\n*   `type` - MIME-тип файла, строка до 256 символов\n\n*   `size` - Размер файла в байтах, целое число\n`operator`object (необязательно)Поля\n*   `id` - ид пользователя\n\n*   `name` - имя пользователя\n\n*   `role` - pоль пользователя\n\n*   `maxThreads` - максимальное количество слотов оператора\n\n*   `freeSlots` - количество свободных слотов\n\n*   `photoUrl` - аватар пользователя\n`messageIndex`int(обязательно)Индекс сообщения в рамках треда\n`messageOwner`string (обязательно)Автор сообщения (`CLIENT`/`OPERATOR`)\n`channelInfo`object (обязательно)Информация о канале, в котором получено сообщение\n`id`string Channel ID\n`channelType`string Тип канала (`WEB`, `MOBILE`, `EMAIL`, `VIBER`, `TELEGRAM`, `VIBERPA`, `FACEBOOK`, `VKONTAKTE`, `YANDEX`, `WHATSAPP`, `APPLE_BUSINESS_CHAT`, ROCKET_CHAT, OZON)\n`authorized`boolean`true` - авторизован, `false` - не авторизован\n\n`POST <url for webhook training> HTTP/1.1    Content-Type: application/json    {       \"operator\":{          \"id\":3,          \"name\":\"Maria\",          \"role\":\"OPERATOR\",          \"maxThreads\":6,          \"freeSlots\":0,          \"photoUrl\":null       ,       \"messageIndex\":7,       \"messageOwner\":\"CLIENT\",       \"action\":\"TRAINING\",       \"clientId\":\"1111\",       \"threadsClientId\":218,       \"sessionId\":\"249\",       \"receivedAt\":\"2021-03-25T03:12:28.825Z\",       \"text\":\"asdf\",       \"channelInfo\":{          \"id\":1,          \"channelType\":\"WEB\",          \"authorized\":true       ,       \"attachments\":[       ],       \"clientData\":{          \"locale\":\"ru\"       ,       \"sender\":\"ThreadsAPI\"`\n\nВ случае успешной обработки запроса бот должен вернуть статус 200. Вторым шагом бот должен вызвать метод `/api/v1/chatbot/hints`\n",
  "metadata": {
    "url": "https://docs-chatcenter.edna.ru/docs/api/external-api-bot/webhook-training",
    "content_hash": "ed204781400e1b2db9a89dad2bfa27edb85c6b4f7d8ba29c1f6946d95e5a9b1c",
    "last_modified": "2025-10-03T15:47:12.363321+00:00",
    "etag": null,
    "title": null,
    "page_type": "api",
    "content_strategy": "jina",
    "content_length": 3219,
    "cached_at": "2025-10-03T15:47:12.363321+00:00",
    "html": "Title: Вебхук Training | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/webhook-training\n\nMarkdown Content:\nЭтот вебхук предназначен для тренировки бота на основании диалогов между агентами и клиентами.После этого бот сможет отправлять подсказки агентам. В таких подсказках содержатся вероятные варианты ответов клиентам, которые могут быть крайне полезными и эффективными в работе агентов.\n\nБот отправляет сообщения с подсказками на эндпоинт `/api/v1/chatbot/hints`, если тред принадлежит пользователю с ролью `Operator` (т.е. агенту).\n\nВам необходимо предварительно включить настройку, которая позволит тренировать бота.\n\nВам также необходимо добавить вебхук для соответствующего бота в АРМ администратора.\n\nПоля тела запроса**Поле****Тип****Описание**\n`action`string (обязательно)*   TRAINING\n`text`string (обязательно)Сообщение клиента или агента, которое вы хотите направить боту на обучение\n`clientId`string (необязательно)Внешний ID клиента (только для авторизованных клиентов). **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`Long (необязательно)Внутренний ID клиента (подходит как для авторизованных, так и для неавторизованных клиентов)\n`sessionId`string (необязательно)Внутренний ID треда\n`receivedAt`string (обязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`attachments`array of object (необязательно)Поля\n*   `url` - URL файла, строка до 4000 символов\n\n*   `name` - Имя файла, строка до 1000 символов\n\n*   `type` - MIME-тип файла, строка до 256 символов\n\n*   `size` - Размер файла в байтах, целое число\n`operator`object (необязательно)Поля\n*   `id` - ид пользователя\n\n*   `name` - имя пользователя\n\n*   `role` - pоль пользователя\n\n*   `maxThreads` - максимальное количество слотов оператора\n\n*   `freeSlots` - количество свободных слотов\n\n*   `photoUrl` - аватар пользователя\n`messageIndex`int(обязательно)Индекс сообщения в рамках треда\n`messageOwner`string (обязательно)Автор сообщения (`CLIENT`/`OPERATOR`)\n`channelInfo`object (обязательно)Информация о канале, в котором получено сообщение\n`id`string Channel ID\n`channelType`string Тип канала (`WEB`, `MOBILE`, `EMAIL`, `VIBER`, `TELEGRAM`, `VIBERPA`, `FACEBOOK`, `VKONTAKTE`, `YANDEX`, `WHATSAPP`, `APPLE_BUSINESS_CHAT`, ROCKET_CHAT, OZON)\n`authorized`boolean`true` - авторизован, `false` - не авторизован\n\n`POST <url for webhook training> HTTP/1.1    Content-Type: application/json    {       \"operator\":{          \"id\":3,          \"name\":\"Maria\",          \"role\":\"OPERATOR\",          \"maxThreads\":6,          \"freeSlots\":0,          \"photoUrl\":null       ,       \"messageIndex\":7,       \"messageOwner\":\"CLIENT\",       \"action\":\"TRAINING\",       \"clientId\":\"1111\",       \"threadsClientId\":218,       \"sessionId\":\"249\",       \"receivedAt\":\"2021-03-25T03:12:28.825Z\",       \"text\":\"asdf\",       \"channelInfo\":{          \"id\":1,          \"channelType\":\"WEB\",          \"authorized\":true       ,       \"attachments\":[       ],       \"clientData\":{          \"locale\":\"ru\"       ,       \"sender\":\"ThreadsAPI\"`\n\nВ случае успешной обработки запроса бот должен вернуть статус 200. Вторым шагом бот должен вызвать метод `/api/v1/chatbot/hints`\n",
    "text": "Title: Вебхук Training | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api-bot/webhook-training\n\nMarkdown Content:\nЭтот вебхук предназначен для тренировки бота на основании диалогов между агентами и клиентами.После этого бот сможет отправлять подсказки агентам. В таких подсказках содержатся вероятные варианты ответов клиентам, которые могут быть крайне полезными и эффективными в работе агентов.\n\nБот отправляет сообщения с подсказками на эндпоинт `/api/v1/chatbot/hints`, если тред принадлежит пользователю с ролью `Operator` (т.е. агенту).\n\nВам необходимо предварительно включить настройку, которая позволит тренировать бота.\n\nВам также необходимо добавить вебхук для соответствующего бота в АРМ администратора.\n\nПоля тела запроса**Поле****Тип****Описание**\n`action`string (обязательно)*   TRAINING\n`text`string (обязательно)Сообщение клиента или агента, которое вы хотите направить боту на обучение\n`clientId`string (необязательно)Внешний ID клиента (только для авторизованных клиентов). **Этот параметр устарел, вместо него используйте `threadsClientId`.**\n`threadsClientId`Long (необязательно)Внутренний ID клиента (подходит как для авторизованных, так и для неавторизованных клиентов)\n`sessionId`string (необязательно)Внутренний ID треда\n`receivedAt`string (обязательно)Время получения сообщения, дата в формате UTC: yyyy-MM-dd’T’HH:mm:ss.SSS’Z'\n`attachments`array of object (необязательно)Поля\n*   `url` - URL файла, строка до 4000 символов\n\n*   `name` - Имя файла, строка до 1000 символов\n\n*   `type` - MIME-тип файла, строка до 256 символов\n\n*   `size` - Размер файла в байтах, целое число\n`operator`object (необязательно)Поля\n*   `id` - ид пользователя\n\n*   `name` - имя пользователя\n\n*   `role` - pоль пользователя\n\n*   `maxThreads` - максимальное количество слотов оператора\n\n*   `freeSlots` - количество свободных слотов\n\n*   `photoUrl` - аватар пользователя\n`messageIndex`int(обязательно)Индекс сообщения в рамках треда\n`messageOwner`string (обязательно)Автор сообщения (`CLIENT`/`OPERATOR`)\n`channelInfo`object (обязательно)Информация о канале, в котором получено сообщение\n`id`string Channel ID\n`channelType`string Тип канала (`WEB`, `MOBILE`, `EMAIL`, `VIBER`, `TELEGRAM`, `VIBERPA`, `FACEBOOK`, `VKONTAKTE`, `YANDEX`, `WHATSAPP`, `APPLE_BUSINESS_CHAT`, ROCKET_CHAT, OZON)\n`authorized`boolean`true` - авторизован, `false` - не авторизован\n\n`POST <url for webhook training> HTTP/1.1    Content-Type: application/json    {       \"operator\":{          \"id\":3,          \"name\":\"Maria\",          \"role\":\"OPERATOR\",          \"maxThreads\":6,          \"freeSlots\":0,          \"photoUrl\":null       ,       \"messageIndex\":7,       \"messageOwner\":\"CLIENT\",       \"action\":\"TRAINING\",       \"clientId\":\"1111\",       \"threadsClientId\":218,       \"sessionId\":\"249\",       \"receivedAt\":\"2021-03-25T03:12:28.825Z\",       \"text\":\"asdf\",       \"channelInfo\":{          \"id\":1,          \"channelType\":\"WEB\",          \"authorized\":true       ,       \"attachments\":[       ],       \"clientData\":{          \"locale\":\"ru\"       ,       \"sender\":\"ThreadsAPI\"`\n\nВ случае успешной обработки запроса бот должен вернуть статус 200. Вторым шагом бот должен вызвать метод `/api/v1/chatbot/hints`\n"
  }
}