{
  "html": "Title: Отправить сообщение от агента существующему клиенту в edna в очередь маршрутизации | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-from-mySelf-to-queue\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать либо `clientId`, либо `threadsClientId`. В случае передачи и `threadsClientId`, и `clientId` поиск клиента будет осуществлен по более приоритетному `threadsClientId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `login` | `String` | Логин агента, от чьего имени будет отправлено сообщение |\n| `mode` | `String` | Режим маршрутизации для треда. Возможные значения: `TO_FREE_SLOT`, `TO_READY_OPERATOR` и `TO_ROUTING`. Значение по умолчанию - `TO_ROUTING`. |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента. Если не указан, то `threadsClientId` должен быть заполнен |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna. Если не указан, то `clientId` должен быть заполнен |\n| `userIds` | `List of longs` | Список идентификаторов агентов, которым можно назначить тред в процессе маршрутизации |\n| `logins` | `List of strings` | Список логинов агентов, которым можно назначить тред в процессе маршрутизации |\n| `skillIds` | `List of longs` | Список навыков, необходимых агентов, на которых можно назначить тред в процессе маршрутизации |\n| `unitIds` | `List of longs` | Список необходимых отделов, агентам которых можно назначить тред в процессе маршрутизации |\n| `priority` | `Long` | Приоритет треда в очереди распределения. Треды с более низкими значениями приоритета будут назначены первыми (по умолчанию `100`). |\n| `comment` | `String (необязательно)` | Комментарий в свободной форме, максимум 220 символов |\n| `channelType` | `String` | Тип канала клиента, которому вы хотите отправить сообщение (по умолчанию `MOBILE`) |\n| `appMarker` | `String (необязательно)` | appMarker приложения клиента |\n| `text` | `String (необязательно)` | Текст сообщения. Максимальная длина 2000 символов. Если не указан, то `attachments` должен быть заполнен |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения. Если не указан, то `text` должен быть заполнен |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing-to-queue' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100'`\n\nПример для `clientId`:\n\n`POST /api/v1/messages/outgoing-to-queue HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 194Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор треда в edna |\n\n`HTTP/1.1 200 OKX-Request-Id: add23a05-99c5-4927-9a22-b57f8ef8c95aVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 14{  \"id\" : 2`\n",
  "text": "Title: Отправить сообщение от агента существующему клиенту в edna в очередь маршрутизации | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-from-mySelf-to-queue\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать либо `clientId`, либо `threadsClientId`. В случае передачи и `threadsClientId`, и `clientId` поиск клиента будет осуществлен по более приоритетному `threadsClientId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `login` | `String` | Логин агента, от чьего имени будет отправлено сообщение |\n| `mode` | `String` | Режим маршрутизации для треда. Возможные значения: `TO_FREE_SLOT`, `TO_READY_OPERATOR` и `TO_ROUTING`. Значение по умолчанию - `TO_ROUTING`. |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента. Если не указан, то `threadsClientId` должен быть заполнен |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna. Если не указан, то `clientId` должен быть заполнен |\n| `userIds` | `List of longs` | Список идентификаторов агентов, которым можно назначить тред в процессе маршрутизации |\n| `logins` | `List of strings` | Список логинов агентов, которым можно назначить тред в процессе маршрутизации |\n| `skillIds` | `List of longs` | Список навыков, необходимых агентов, на которых можно назначить тред в процессе маршрутизации |\n| `unitIds` | `List of longs` | Список необходимых отделов, агентам которых можно назначить тред в процессе маршрутизации |\n| `priority` | `Long` | Приоритет треда в очереди распределения. Треды с более низкими значениями приоритета будут назначены первыми (по умолчанию `100`). |\n| `comment` | `String (необязательно)` | Комментарий в свободной форме, максимум 220 символов |\n| `channelType` | `String` | Тип канала клиента, которому вы хотите отправить сообщение (по умолчанию `MOBILE`) |\n| `appMarker` | `String (необязательно)` | appMarker приложения клиента |\n| `text` | `String (необязательно)` | Текст сообщения. Максимальная длина 2000 символов. Если не указан, то `attachments` должен быть заполнен |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения. Если не указан, то `text` должен быть заполнен |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing-to-queue' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100'`\n\nПример для `clientId`:\n\n`POST /api/v1/messages/outgoing-to-queue HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 194Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор треда в edna |\n\n`HTTP/1.1 200 OKX-Request-Id: add23a05-99c5-4927-9a22-b57f8ef8c95aVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 14{  \"id\" : 2`\n",
  "metadata": {
    "url": "https://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-from-mySelf-to-queue",
    "content_hash": "2f84b88cc6e1deeed7cd6f0068aeefec951484c512a4bae5f0965485ef47fe5d",
    "last_modified": "2025-10-03T15:52:22.396125+00:00",
    "etag": null,
    "title": null,
    "page_type": "api",
    "content_strategy": "jina",
    "content_length": 4191,
    "cached_at": "2025-10-03T15:52:22.396125+00:00",
    "html": "Title: Отправить сообщение от агента существующему клиенту в edna в очередь маршрутизации | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-from-mySelf-to-queue\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать либо `clientId`, либо `threadsClientId`. В случае передачи и `threadsClientId`, и `clientId` поиск клиента будет осуществлен по более приоритетному `threadsClientId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `login` | `String` | Логин агента, от чьего имени будет отправлено сообщение |\n| `mode` | `String` | Режим маршрутизации для треда. Возможные значения: `TO_FREE_SLOT`, `TO_READY_OPERATOR` и `TO_ROUTING`. Значение по умолчанию - `TO_ROUTING`. |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента. Если не указан, то `threadsClientId` должен быть заполнен |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna. Если не указан, то `clientId` должен быть заполнен |\n| `userIds` | `List of longs` | Список идентификаторов агентов, которым можно назначить тред в процессе маршрутизации |\n| `logins` | `List of strings` | Список логинов агентов, которым можно назначить тред в процессе маршрутизации |\n| `skillIds` | `List of longs` | Список навыков, необходимых агентов, на которых можно назначить тред в процессе маршрутизации |\n| `unitIds` | `List of longs` | Список необходимых отделов, агентам которых можно назначить тред в процессе маршрутизации |\n| `priority` | `Long` | Приоритет треда в очереди распределения. Треды с более низкими значениями приоритета будут назначены первыми (по умолчанию `100`). |\n| `comment` | `String (необязательно)` | Комментарий в свободной форме, максимум 220 символов |\n| `channelType` | `String` | Тип канала клиента, которому вы хотите отправить сообщение (по умолчанию `MOBILE`) |\n| `appMarker` | `String (необязательно)` | appMarker приложения клиента |\n| `text` | `String (необязательно)` | Текст сообщения. Максимальная длина 2000 символов. Если не указан, то `attachments` должен быть заполнен |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения. Если не указан, то `text` должен быть заполнен |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing-to-queue' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100'`\n\nПример для `clientId`:\n\n`POST /api/v1/messages/outgoing-to-queue HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 194Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор треда в edna |\n\n`HTTP/1.1 200 OKX-Request-Id: add23a05-99c5-4927-9a22-b57f8ef8c95aVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 14{  \"id\" : 2`\n",
    "text": "Title: Отправить сообщение от агента существующему клиенту в edna в очередь маршрутизации | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/messages/send-outgoing-message-from-mySelf-to-queue\n\nMarkdown Content:\nЧтобы отправить сообщение существующему клиенту, необходимо указать либо `clientId`, либо `threadsClientId`. В случае передачи и `threadsClientId`, и `clientId` поиск клиента будет осуществлен по более приоритетному `threadsClientId`.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `login` | `String` | Логин агента, от чьего имени будет отправлено сообщение |\n| `mode` | `String` | Режим маршрутизации для треда. Возможные значения: `TO_FREE_SLOT`, `TO_READY_OPERATOR` и `TO_ROUTING`. Значение по умолчанию - `TO_ROUTING`. |\n| `clientId` | `String (необязательно)` | Внешний идентификатор клиента. Если не указан, то `threadsClientId` должен быть заполнен |\n| `threadsClientId` | `Long (необязательно)` | Внутренний идентификатор клиента в edna. Если не указан, то `clientId` должен быть заполнен |\n| `userIds` | `List of longs` | Список идентификаторов агентов, которым можно назначить тред в процессе маршрутизации |\n| `logins` | `List of strings` | Список логинов агентов, которым можно назначить тред в процессе маршрутизации |\n| `skillIds` | `List of longs` | Список навыков, необходимых агентов, на которых можно назначить тред в процессе маршрутизации |\n| `unitIds` | `List of longs` | Список необходимых отделов, агентам которых можно назначить тред в процессе маршрутизации |\n| `priority` | `Long` | Приоритет треда в очереди распределения. Треды с более низкими значениями приоритета будут назначены первыми (по умолчанию `100`). |\n| `comment` | `String (необязательно)` | Комментарий в свободной форме, максимум 220 символов |\n| `channelType` | `String` | Тип канала клиента, которому вы хотите отправить сообщение (по умолчанию `MOBILE`) |\n| `appMarker` | `String (необязательно)` | appMarker приложения клиента |\n| `text` | `String (необязательно)` | Текст сообщения. Максимальная длина 2000 символов. Если не указан, то `attachments` должен быть заполнен |\n| `attachments` | `List of objects (необязательно)` | Список вложений сообщения. Если не указан, то `text` должен быть заполнен |\n\nwarning\n\nДля того, чтобы файл верно отображался клиенту, название изображения должно содержать расширение файла, либо же должен быть указан тип файла (например, image/jpg).\n\n`\"attachments\": [    {      \"url\": \"http://...\",      \"name\": \"test.jpg\",      \"type\": \"image/jpeg\",      \"size\": 256  ],  ...`\n\n| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `url` | String | URL файла, строка до 4000 символов |\n| `name` | String | Название файла, строка до 1000 символов |\n| `type` | String | MIME-тип файла, строка до 256 символов |\n| `size` | Integer | Размер файла в байтах |\n\n`$ curl 'http://localhost:8080/api/v1/messages/outgoing-to-queue' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100'`\n\nПример для `clientId`:\n\n`POST /api/v1/messages/outgoing-to-queue HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 194Host: localhost:8080{  \"text\" : \"message\",  \"attachments\" : [ ],  \"clientId\" : \"clientId\",  \"channelType\" : \"MOBILE\",  \"login\" : \"login\",  \"mode\" : \"TO_ROUTING\",  \"logins\" : [ \"login\" ],  \"priority\" : 100`\n\nПоля тела ответа| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `id` | `Long` | Уникальный идентификатор треда в edna |\n\n`HTTP/1.1 200 OKX-Request-Id: add23a05-99c5-4927-9a22-b57f8ef8c95aVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 14{  \"id\" : 2`\n"
  }
}