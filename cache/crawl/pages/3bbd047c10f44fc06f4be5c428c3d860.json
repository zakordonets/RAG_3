{
  "html": "Title: Отправить опрос о качестве обслуживания | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/quality/send-survey-by-internal-id\n\nMarkdown Content:\nОтправить опрос о качестве обслуживания\n---------------------------------------\n\nИспользуйте этот метод для того, чтобы отправить опрос о качестве обслуживания в указанный тред или в последний закрытый тред с этим клиентом.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nЭтот метод можно использовать только, если:\n\n1.   В системных настройках включены опросы о качестве обслуживания через внешний API.\n2.   Клиент, которому вы хотите опрос, не имеет открытого треда.\n3.   Для активного канала треда в таблице `survey_channels` включен данный опрос.\n\nВ ином случае, возвращается `409 Conflict`.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `Object` | Полиморфный идентификатор треда, в который вы хотите отправить опрос |\n| `clientId.type` | `String` | Тип идентификатора клиента. Разрешены следующие значения: `internalClientId`, `externalClientId`, `threadId` |\n| `clientId.id` | `Long/String` | В зависимости от `clientId.type`: 1) `internalClientId`: Внутренний идентификатор клиента в edna (long) 2) `externalClientId`: Внешний идентификатор клиента в системе интегратора (string) 3) `threadId`: Внутренний идентификатор треда в edna (long) |\n| `qualityFromId` | `Long` | Идентификатор опроса, который вы хотите отправить |\n\n`$ curl 'http://localhost:8080/api/v1/quality/send' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1'`\n\n`POST /api/v1/quality/send HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 93Host: localhost:8080{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1`\n\n`HTTP/1.1 200 OKX-Request-Id: e3bbe896-7092-4845-860c-4c6f9a50c5eeVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 9a8b0f3b-1b6b-437a-b9cf-f37eb9ec4869Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 163{  \"timestamp\" : \"2024-12-28T11:39:19.817Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Sending surveys via external api is disabled\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 71c0e5b4-a8fc-4095-a47a-87f8989ce10bVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 141{  \"timestamp\" : \"2024-12-28T11:39:19.833Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Client has open thread\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: e28c3dea-0c80-4202-ae84-23e30c786bceVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 149{  \"timestamp\" : \"2024-12-28T11:39:19.787Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Cannot send form 1 to thread 1\"`\n",
  "text": "Title: Отправить опрос о качестве обслуживания | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/quality/send-survey-by-internal-id\n\nMarkdown Content:\nОтправить опрос о качестве обслуживания\n---------------------------------------\n\nИспользуйте этот метод для того, чтобы отправить опрос о качестве обслуживания в указанный тред или в последний закрытый тред с этим клиентом.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nЭтот метод можно использовать только, если:\n\n1.   В системных настройках включены опросы о качестве обслуживания через внешний API.\n2.   Клиент, которому вы хотите опрос, не имеет открытого треда.\n3.   Для активного канала треда в таблице `survey_channels` включен данный опрос.\n\nВ ином случае, возвращается `409 Conflict`.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `Object` | Полиморфный идентификатор треда, в который вы хотите отправить опрос |\n| `clientId.type` | `String` | Тип идентификатора клиента. Разрешены следующие значения: `internalClientId`, `externalClientId`, `threadId` |\n| `clientId.id` | `Long/String` | В зависимости от `clientId.type`: 1) `internalClientId`: Внутренний идентификатор клиента в edna (long) 2) `externalClientId`: Внешний идентификатор клиента в системе интегратора (string) 3) `threadId`: Внутренний идентификатор треда в edna (long) |\n| `qualityFromId` | `Long` | Идентификатор опроса, который вы хотите отправить |\n\n`$ curl 'http://localhost:8080/api/v1/quality/send' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1'`\n\n`POST /api/v1/quality/send HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 93Host: localhost:8080{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1`\n\n`HTTP/1.1 200 OKX-Request-Id: e3bbe896-7092-4845-860c-4c6f9a50c5eeVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 9a8b0f3b-1b6b-437a-b9cf-f37eb9ec4869Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 163{  \"timestamp\" : \"2024-12-28T11:39:19.817Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Sending surveys via external api is disabled\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 71c0e5b4-a8fc-4095-a47a-87f8989ce10bVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 141{  \"timestamp\" : \"2024-12-28T11:39:19.833Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Client has open thread\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: e28c3dea-0c80-4202-ae84-23e30c786bceVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 149{  \"timestamp\" : \"2024-12-28T11:39:19.787Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Cannot send form 1 to thread 1\"`\n",
  "metadata": {
    "url": "https://docs-chatcenter.edna.ru/docs/api/external-api/quality/send-survey-by-internal-id",
    "content_hash": "370525b9e47329d68b63432cc2f0e08b737fa44f77e7d212435c6b7d912fcc55",
    "last_modified": "2025-09-19T09:02:40.302461+00:00",
    "etag": null,
    "title": null,
    "page_type": "api",
    "content_length": 3844,
    "cached_at": "2025-09-19T09:02:40.302461+00:00",
    "html": "Title: Отправить опрос о качестве обслуживания | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/quality/send-survey-by-internal-id\n\nMarkdown Content:\nОтправить опрос о качестве обслуживания\n---------------------------------------\n\nИспользуйте этот метод для того, чтобы отправить опрос о качестве обслуживания в указанный тред или в последний закрытый тред с этим клиентом.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nЭтот метод можно использовать только, если:\n\n1.   В системных настройках включены опросы о качестве обслуживания через внешний API.\n2.   Клиент, которому вы хотите опрос, не имеет открытого треда.\n3.   Для активного канала треда в таблице `survey_channels` включен данный опрос.\n\nВ ином случае, возвращается `409 Conflict`.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `Object` | Полиморфный идентификатор треда, в который вы хотите отправить опрос |\n| `clientId.type` | `String` | Тип идентификатора клиента. Разрешены следующие значения: `internalClientId`, `externalClientId`, `threadId` |\n| `clientId.id` | `Long/String` | В зависимости от `clientId.type`: 1) `internalClientId`: Внутренний идентификатор клиента в edna (long) 2) `externalClientId`: Внешний идентификатор клиента в системе интегратора (string) 3) `threadId`: Внутренний идентификатор треда в edna (long) |\n| `qualityFromId` | `Long` | Идентификатор опроса, который вы хотите отправить |\n\n`$ curl 'http://localhost:8080/api/v1/quality/send' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1'`\n\n`POST /api/v1/quality/send HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 93Host: localhost:8080{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1`\n\n`HTTP/1.1 200 OKX-Request-Id: e3bbe896-7092-4845-860c-4c6f9a50c5eeVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 9a8b0f3b-1b6b-437a-b9cf-f37eb9ec4869Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 163{  \"timestamp\" : \"2024-12-28T11:39:19.817Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Sending surveys via external api is disabled\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 71c0e5b4-a8fc-4095-a47a-87f8989ce10bVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 141{  \"timestamp\" : \"2024-12-28T11:39:19.833Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Client has open thread\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: e28c3dea-0c80-4202-ae84-23e30c786bceVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 149{  \"timestamp\" : \"2024-12-28T11:39:19.787Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Cannot send form 1 to thread 1\"`\n",
    "text": "Title: Отправить опрос о качестве обслуживания | edna Chat Center\n\nURL Source: http://docs-chatcenter.edna.ru/docs/api/external-api/quality/send-survey-by-internal-id\n\nMarkdown Content:\nОтправить опрос о качестве обслуживания\n---------------------------------------\n\nИспользуйте этот метод для того, чтобы отправить опрос о качестве обслуживания в указанный тред или в последний закрытый тред с этим клиентом.\n\n`----    Permissions:INTEGRATOR,OPERATOR,SUPERVISOR    ----`\n\nЭтот метод можно использовать только, если:\n\n1.   В системных настройках включены опросы о качестве обслуживания через внешний API.\n2.   Клиент, которому вы хотите опрос, не имеет открытого треда.\n3.   Для активного канала треда в таблице `survey_channels` включен данный опрос.\n\nВ ином случае, возвращается `409 Conflict`.\n\nПоля тела запроса| Параметр | Тип | Описание |\n| --- | --- | --- |\n| `clientId` | `Object` | Полиморфный идентификатор треда, в который вы хотите отправить опрос |\n| `clientId.type` | `String` | Тип идентификатора клиента. Разрешены следующие значения: `internalClientId`, `externalClientId`, `threadId` |\n| `clientId.id` | `Long/String` | В зависимости от `clientId.type`: 1) `internalClientId`: Внутренний идентификатор клиента в edna (long) 2) `externalClientId`: Внешний идентификатор клиента в системе интегратора (string) 3) `threadId`: Внутренний идентификатор треда в edna (long) |\n| `qualityFromId` | `Long` | Идентификатор опроса, который вы хотите отправить |\n\n`$ curl 'http://localhost:8080/api/v1/quality/send' -i -X POST \\    -H 'Content-Type: application/json' \\    -H 'Authorization: Bearer <integrator_token>' \\    -H 'X-Tenant-Name: local' \\    -d '{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1'`\n\n`POST /api/v1/quality/send HTTP/1.1Content-Type: application/jsonAuthorization: Bearer <integrator_token>X-Tenant-Name: localContent-Length: 93Host: localhost:8080{  \"clientId\" : {    \"type\" : \"internalClientId\",    \"id\" : 1  ,  \"qualityFormId\" : 1`\n\n`HTTP/1.1 200 OKX-Request-Id: e3bbe896-7092-4845-860c-4c6f9a50c5eeVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENY`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 9a8b0f3b-1b6b-437a-b9cf-f37eb9ec4869Vary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 163{  \"timestamp\" : \"2024-12-28T11:39:19.817Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Sending surveys via external api is disabled\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: 71c0e5b4-a8fc-4095-a47a-87f8989ce10bVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 141{  \"timestamp\" : \"2024-12-28T11:39:19.833Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Client has open thread\"`\n\n`HTTP/1.1 409 ConflictX-Request-Id: e28c3dea-0c80-4202-ae84-23e30c786bceVary: OriginVary: Access-Control-Request-MethodVary: Access-Control-Request-HeadersContent-Type: application/jsonX-Content-Type-Options: nosniffX-XSS-Protection: 0Cache-Control: no-cache, no-store, max-age=0, must-revalidatePragma: no-cacheExpires: 0X-Frame-Options: DENYContent-Length: 149{  \"timestamp\" : \"2024-12-28T11:39:19.787Z\",  \"method\" : \"POST\",  \"uri\" : \"/api/v1/quality/send\",  \"message\" : \"Cannot send form 1 to thread 1\"`\n"
  }
}